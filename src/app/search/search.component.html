<app-title title="Search - {{ searchInput}}"></app-title>
<form clrForm [formGroup]="searchForm" class="search-tickers">
    <input clrInput placeholder="Ticker" type="text" formControlName="pricesCtrl"
           (change)="onChangeSearchInput($event)" />
    <input clrInput placeholder="Company Name" type="text" formControlName="companiesCtrl"
           (change)="onChangeSearchCompanies($event)" />
</form>



<app-spinner [loading]="loading"></app-spinner>

<div *ngIf="stockPrices">

    <app-tile title="Open" [value]="stockPrices[0].open" currency="$" colourClass="brand-blue-two"></app-tile>
    <app-tile title="High" [value]="stockPrices[0].high" currency="$" colourClass="brand-blue-three"></app-tile>
    <app-tile title="Low" [value]="stockPrices[0].low" currency="$" colourClass="brand-blue-four"></app-tile>
    <app-tile title="Close" [value]="stockPrices[0].close" currency="$" colourClass="brand-green-two"></app-tile>
    <app-tile title="Volume" [value]="stockPrices[0].volume" currency="" colourClass="brand-green-three"></app-tile>
    <form clrForm>
        <clr-date-container>
            <label>Search Date</label>
            <input type="date" clrDate name="searchDate">
        </clr-date-container>
    </form>
    <clr-datagrid>
        <clr-dg-column>
            <clr-icon shape="calendar" class="header-icon"></clr-icon> Date
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="folder-open" class="header-icon"></clr-icon> Open
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="arrow" class="header-icon"></clr-icon> High
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="arrow down" class="header-icon"></clr-icon> Low
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="times" class="header-icon"></clr-icon> Close
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="container-volume" class="header-icon"></clr-icon> Volume
        </clr-dg-column>


        <clr-dg-row *clrDgItems="let sp of stockPrices" [clrDgItem]="sp">
            <clr-dg-cell>{{sp.date | date:'mediumDate'}} {{sp.date | date:'shortTime'}}</clr-dg-cell>
            <clr-dg-cell>{{sp.open | number}}</clr-dg-cell>
            <clr-dg-cell>{{sp.high | number}}</clr-dg-cell>
            <clr-dg-cell>{{sp.low | number}}</clr-dg-cell>
            <clr-dg-cell>{{sp.close | number}}</clr-dg-cell>
            <clr-dg-cell>{{sp.volume | number}}</clr-dg-cell>

        </clr-dg-row>
        <clr-dg-footer>
            <clr-dg-pagination #pagination [clrDgPageSize]="10">
                <clr-dg-page-size [clrPageSizeOptions]="[10,20,50,100]">Prices per page</clr-dg-page-size>
                {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                of {{pagination.totalItems}} Prices
            </clr-dg-pagination>
        </clr-dg-footer>
    </clr-datagrid>
</div>